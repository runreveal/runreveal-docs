@tailwind base;
@tailwind components;
@tailwind utilities;

/* Highlight heading styling */
.bg-highlight-best h3,
.bg-highlight-affordable h3,
.bg-highlight-simple h3,
.bg-highlight-modern h3 {
  color: white !important;
  margin-top: 0 !important;
}

/* Global image styling */
img {
  border-radius: 5px;
}

/* Red icon styling */
.icon-red {
  filter: hue-rotate(0deg) saturate(2) brightness(0.8) sepia(1) hue-rotate(0deg);
}

/* Style H1 on homepage with 80% opacity border */
body[data-pathname="/"] main article h1:first-of-type,
body[data-pathname="/"] main .nextra-content h1:first-of-type,
body[data-pathname="/"] article h1:first-of-type,
body[data-pathname="/"] .nextra-content h1:first-of-type {
  @apply border-b-4 pb-2.5 mb-6;
  border-bottom-color: rgba(124, 58, 237, 0.8); /* violet-600 at 80% opacity */
}

/* Style H1 headings with purple border - exclude homepage */
body:not([data-pathname="/"]) main article h1:first-of-type,
body:not([data-pathname="/"]) main .nextra-content h1:first-of-type,
body:not([data-pathname="/"]) article h1:first-of-type,
body:not([data-pathname="/"]) .nextra-content h1:first-of-type {
  @apply border-b-4 border-violet-600 pb-2.5 mb-6;
}

/* Style H2 headings with smaller purple border - exclude homepage */
body:not([data-pathname="/"]) main article h2,
body:not([data-pathname="/"]) main .nextra-content h2,
body:not([data-pathname="/"]) article h2,
body:not([data-pathname="/"]) .nextra-content h2 {
  @apply border-violet-600 pb-2.5 mb-6;
  border-bottom-width: 3px;
}

/* Limit first h1 width on desktop */
@media (min-width: 768px) {
  main article h1:first-of-type,
  main .nextra-content h1:first-of-type,
  article h1:first-of-type,
  .nextra-content h1:first-of-type {
    max-width: 90%;
  }
}

/* Hide footer */
footer {
  display: none !important;
}

/* Set Nextra primary color variables */
:root {
  --nextra-primary-hue: 270;
  --nextra-primary-saturation: 100%;
  --nextra-primary-lightness: 60%;
}

/* Global dark mode text color - make gray text white in dark mode */
.dark .text-gray-400,
.dark .text-gray-300 {
  color: white !important;
}

/* Mermaid diagram text color in dark mode */
.dark .mermaid text,
.dark svg.mermaid text,
.dark [class*="mermaid"] text,
.dark pre.mermaid text,
.dark pre code.language-mermaid + svg text,
.dark .mermaid svg text,
.dark svg[data-mermaid] text {
  fill: white !important;
  color: white !important;
}

/* Mermaid node labels and text elements */
.dark .mermaid .nodeLabel,
.dark .mermaid .edgeLabel,
.dark .mermaid .cluster-label,
.dark svg.mermaid .nodeLabel,
.dark svg.mermaid .edgeLabel,
.dark svg.mermaid .cluster-label {
  fill: white !important;
  color: white !important;
}

/* Clean Nextra styling overrides */
@layer components {
  /* Navbar styling */
  header,
  .nextra-nav-container,
  .nextra-nav-container-blur {
    @apply font-semibold;
    border-bottom: 2px solid hsl(var(--nextra-primary-hue) var(--nextra-primary-saturation) var(--nextra-primary-lightness));
  }

  /* Navbar text styling */
  header a,
  header button,
  header span,
  .nextra-nav-container a,
  .nextra-nav-container button,
  .nextra-nav-container span,
  .nextra-nav-container-blur a,
  .nextra-nav-container-blur button,
  .nextra-nav-container-blur span {
    @apply font-semibold tracking-tight;
  }

  /* Sidebar text styling */
  .nextra-sidebar a,
  .nextra-sidebar button,
  .nextra-sidebar .nextra-focus {
    @apply font-semibold tracking-tight;
  }

  /* Sidebar text color in dark mode */
  .dark .nextra-sidebar a,
  .dark .nextra-sidebar button,
  .dark .nextra-sidebar .nextra-focus,
  .dark .nextra-sidebar-container a,
  .dark .nextra-sidebar-container button,
  .dark .nextra-sidebar-container .nextra-focus {
    color: white !important;
  }

  /* Sidebar hover states */
  .nextra-sidebar .nextra-focus:hover,
  .nextra-sidebar a:hover,
  .nextra-sidebar button:hover {
    background-color: hsl(var(--nextra-primary-hue) var(--nextra-primary-saturation) var(--nextra-primary-lightness));
    color: white;
  }

  /* Active sidebar navigation - the key fix */
  .nextra-sidebar .nextra-focus[aria-current="page"],
  .nextra-sidebar a[aria-current="page"],
  .nextra-sidebar button[aria-current="page"],
  .nextra-sidebar-container .nextra-focus[aria-current="page"],
  .nextra-sidebar-container a[aria-current="page"],
  .nextra-sidebar-container button[aria-current="page"],
  .nextra-sidebar .nextra-focus._bg-primary-100,
  .nextra-sidebar a._bg-primary-100,
  .nextra-sidebar button._bg-primary-100,
  .nextra-sidebar-container .nextra-focus._bg-primary-100,
  .nextra-sidebar-container a._bg-primary-100,
  .nextra-sidebar-container button._bg-primary-100 {
    background-color: hsl(273.33deg 90% 96.08%);
    color: hsl(var(--nextra-primary-hue) var(--nextra-primary-saturation) calc(var(--nextra-primary-lightness) - 40%));
  }

  /* Sidebar open menu states */
  .nextra-sidebar li[open] > a,
  .nextra-sidebar li[open] > button,
  .nextra-sidebar li[open] > .nextra-focus {
    background-color: hsl(var(--nextra-primary-hue) var(--nextra-primary-saturation) var(--nextra-primary-lightness));
    color: white;
  }

  /* Search bar and dropdown styling - IBM Plex font */
  .nextra-search input,
  .nextra-search-input,
  .nextra-search-dropdown,
  .nextra-search-results,
  .nextra-search-result,
  .nextra-search-modal,
  .nextra-search-overlay,
  .nextra-modal-content,
  [data-nextra-search],
  [data-nextra-search] input,
  [data-nextra-search] .nextra-scrollbar,
  [data-nextra-search] ul,
  [data-nextra-search] li,
  [data-nextra-search] a,
  [data-nextra-search] p,
  [data-nextra-search] span,
  [data-reach-combobox-input],
  [data-reach-combobox-list],
  [data-reach-combobox-option],
  .nextra-search-container,
  .nextra-search-container input,
  .nextra-search-container button,
  .nextra-search-container div,
  .nextra-search-container span,
  .nextra-search-container p,
  .nextra-search-container a,
  .nextra-search-container li,
  .nextra-search-container ul {
    @apply font-sans;
    font-family: var(--font-ibm-plex), "IBM Plex Sans", "IBM Plex Sans Fallback", -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif !important;
  }

  /* Portal containers - specific targeting for search modals */
  #__next ~ div,
  [data-radix-portal],
  [data-reach-portal] {
    font-family: var(--font-ibm-plex), "IBM Plex Sans", "IBM Plex Sans Fallback", -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif !important;
  }

  /* Additional search component targeting */
  .nextra-search,
  .nextra-search *,
  .nextra-search-input,
  .nextra-search-input *,
  .nextra-search-dropdown *,
  .nextra-search-results *,
  .nextra-search-result * {
    font-family: var(--font-ibm-plex), "IBM Plex Sans", "IBM Plex Sans Fallback", -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif !important;
  }
} 