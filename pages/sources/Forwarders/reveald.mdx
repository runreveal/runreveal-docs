---
title: 'Reveald Log Forwarder'
description: 'Configure Reveald to forward logs to RunReveal using webhooks'
---

import { Callout, Tabs, Steps } from 'nextra/components'

# Reveald Log Forwarder

<Callout type="info">
**Before you begin**: Replace `YOUR_WEBHOOK_URL` with your actual RunReveal webhook URL from Step 1.
</Callout>

[Reveald](https://github.com/runreveal/reveald) is RunReveal's official log collection agent, designed specifically for sending data to RunReveal. It's optimized for performance, reliability, and ease of use with RunReveal's platform.

---

## Quick Start

This setup demonstrates reading logs from a local file and forwarding them to your RunReveal webhook. The example creates test JSON logs, configures Reveald to monitor the log file, and sends events to RunReveal in real-time.

<Steps>

### Step 1: Create a Webhook Source in RunReveal

This step creates a webhook source in RunReveal and generates the webhook URL you'll need for Reveald configuration.

1. **Navigate to RunReveal**: Go to your RunReveal dashboard
2. **Create Source**: Click on "Sources" in the left sidebar
3. **Add Webhook**: Create a source for "[Structured Webhook or Generic Webhook](/sources/Forwarders#structured-webhooks)" based on your data format.
4. **Configure**: Give your webhook a name and description
5. **Copy URL**: Copy the generated webhook URL to use in your configuration. (It's always available after you save the source)

### Step 2: Install Reveald

This step installs Reveald on your system using your preferred method. Reveald will be used to collect, process, and forward logs to RunReveal.

<Tabs items={['macOS', 'Ubuntu/Debian', 'CentOS/RHEL', 'Docker', 'Binary']}>
  <Tabs.Tab>

```bash copy
# Download Reveald for macOS
curl -L https://github.com/runreveal/reveald/releases/latest/download/reveald-darwin-amd64 -o reveald
chmod +x reveald

# Create config directory
mkdir -p ~/.config/reveald

# Verify installation
./reveald --version
```

  </Tabs.Tab>
  <Tabs.Tab>

```bash copy
# Download Reveald for Linux
curl -L https://github.com/runreveal/reveald/releases/latest/download/reveald-linux-amd64 -o reveald
chmod +x reveald

# Move to system path
sudo mv reveald /usr/local/bin/

# Create config directory
mkdir -p ~/.config/reveald

# Verify installation
reveald --version
```

  </Tabs.Tab>
  <Tabs.Tab>

```bash copy
# Download Reveald for Linux
curl -L https://github.com/runreveal/reveald/releases/latest/download/reveald-linux-amd64 -o reveald
chmod +x reveald

# Move to system path
sudo mv reveald /usr/local/bin/

# Create config directory
mkdir -p ~/.config/reveald

# Verify installation
reveald --version
```

  </Tabs.Tab>
  <Tabs.Tab>

```bash copy
# Pull Reveald image
docker pull runreveal/reveald:latest

# Run Reveald container
docker run -d \
  --name reveald \
  -v ~/logs:/logs \
  runreveal/reveald:latest
```

  </Tabs.Tab>
  <Tabs.Tab>

```bash copy
# Download Reveald binary
curl -L https://github.com/runreveal/reveald/releases/latest/download/reveald-linux-amd64 -o reveald
chmod +x reveald

# Move to system path
sudo mv reveald /usr/local/bin/

# Create config directory
mkdir -p ~/.config/reveald

# Verify installation
reveald --version
```
  </Tabs.Tab>
</Tabs>

### Step 3: Create Test Logs

This step creates sample log files with security events that Reveald will monitor and forward to RunReveal. These logs simulate real application events for testing purposes.

<Tabs items={['macOS/Linux', 'Windows']}>
  <Tabs.Tab>

```bash copy
# Create log directory in your home directory
mkdir -p ~/logs/app

# Create sample application logs
cat > ~/logs/app/application.log << EOF
{"timestamp":"2024-01-15T10:30:00Z","level":"INFO","message":"User login successful","user_id":"12345","ip":"192.168.1.100"}
{"timestamp":"2024-01-15T10:31:00Z","level":"WARN","message":"Failed login attempt","user_id":"unknown","ip":"192.168.1.101"}
{"timestamp":"2024-01-15T10:32:00Z","level":"ERROR","message":"Database connection failed","error":"timeout","retry_count":3}
EOF

# Verify logs were created
ls -la ~/logs/app/
cat ~/logs/app/application.log
```

  </Tabs.Tab>
  <Tabs.Tab>

```powershell
# Create log directory in your home directory
New-Item -ItemType Directory -Path "$env:USERPROFILE\logs\app" -Force

# Create sample application logs
@"
{"timestamp":"2024-01-15T10:30:00Z","level":"INFO","message":"User login successful","user_id":"12345","ip":"192.168.1.100"}
{"timestamp":"2024-01-15T10:31:00Z","level":"WARN","message":"Failed login attempt","user_id":"unknown","ip":"192.168.1.101"}
{"timestamp":"2024-01-15T10:32:00Z","level":"ERROR","message":"Database connection failed","error":"timeout","retry_count":3}
"@ | Out-File -FilePath "$env:USERPROFILE\logs\app\application.log" -Encoding UTF8

# Verify logs were created
Get-ChildItem "$env:USERPROFILE\logs\app\"
Get-Content "$env:USERPROFILE\logs\app\application.log"
```

  </Tabs.Tab>
</Tabs>

### Step 4: Configure Reveald

This step creates the Reveald configuration file that defines how to collect logs and send them to RunReveal.

```json copy
{
  "sources": {
    "applogs": {
      "type": "file",
      "path": "~/logs/app",
      "extension": ".log",
      "follow": true
    }
  },
  "destinations": {
    "runreveal": {
      "type": "runreveal",
      "webhookURL": "YOUR_WEBHOOK_URL",
      "batchSize": 100,
      "batchTimeout": "5s"
    }
  },
  "processing": {
    "parseJSON": true,
    "addMetadata": true
  }
}
```

### Step 5: Start Reveald

This step starts Reveald with your configuration, which will begin monitoring the log files and forwarding events to RunReveal in real-time. Reveald will continuously watch for new log entries and send them to your webhook.

```bash copy
# Validate configuration
reveald -config reveald.config.json -validate

# Test configuration locally (optional)
reveald -config reveald.config.json -validate -verbose

# Run Reveald in foreground
reveald -config reveald.config.json

# Run Reveald in background
reveald -config reveald.config.json -daemon
```

**Local Testing Commands:**

```bash copy
# Test with a simple HTTP endpoint first
curl -X POST http://localhost:8080/test -H "Content-Type: application/json" -d '{"test": "data"}'

# Test Reveald configuration with local file output
# Create a test config that outputs to a local file instead of HTTP
cat > reveald-test.config.json << EOF
{
  "sources": {
    "applogs": {
      "type": "file",
      "path": "~/logs/app",
      "extension": ".log",
      "follow": true
    }
  },
  "destinations": {
    "file": {
      "type": "file",
      "path": "/tmp/reveald-test.log"
    }
  },
  "processing": {
    "parseJSON": true,
    "addMetadata": true
  }
}
EOF

# Run test configuration
reveald -config reveald-test.config.json

# Check the test output
tail -f /tmp/reveald-test.log
```

### Step 6: Validate Delivery

This step verifies that logs are successfully being delivered to RunReveal by checking the webhook source and querying for events.

1. **Check Webhook Source**: Go to RunReveal → Sources → Your webhook source
2. **View Recent Events**: Look for recent events in the source details
3. **Query for Events**: Use the query `sourceType = 'webhook'` or `sourceType = 'structured-webhook'` to find your events

</Steps>

---

## Reveald Configuration

<Tabs items={['Sources', 'Processing', 'Destinations']}>
  <Tabs.Tab>

### Sources

Sources collect data from various inputs. For RunReveal, you'll typically use file sources or system sources. See the [Reveald Sources Documentation](https://github.com/runreveal/reveald) for comprehensive documentation.

**File Source Example**
```json copy
{
  "sources": {
    "applogs": {
      "type": "file",
      "path": "/var/log/app",
      "extension": ".log",
      "follow": true
    }
  }
}
```

Collects application logs in JSON format, perfect for security event analysis and compliance reporting.

**System Source Example**
```json copy
{
  "sources": {
    "systemlogs": {
      "type": "file",
      "path": "/var/log/syslog",
      "follow": true
    }
  }
}
```

Captures system authentication and authorization events, essential for security monitoring and threat detection.

**Docker Source Example**
```json copy
{
  "sources": {
    "containerlogs": {
      "type": "file",
      "path": "/var/lib/docker/containers",
      "extension": ".log",
      "follow": true
    }
  }
}
```

Monitors containerized applications for security incidents, performance issues, and compliance violations.

  </Tabs.Tab>
  <Tabs.Tab>

### Processing

Processing options transform and filter data as it flows through Reveald. For RunReveal, you'll typically use JSON parsing and metadata addition. See the [Reveald Processing Documentation](https://github.com/runreveal/reveald) for comprehensive documentation.

**JSON Parser Example**
```json copy
{
  "processing": {
    "parseJSON": true,
    "addMetadata": true,
    "customFields": {
      "environment": "production",
      "service": "my-application"
    }
  }
}
```

Parses JSON-formatted logs into structured fields for better analysis and querying.

**Filter Example**
```json copy
{
  "processing": {
    "parseJSON": true,
    "addMetadata": true,
    "filterLevels": ["INFO", "WARN", "ERROR"],
    "customFields": {
      "environment": "production",
      "service": "my-application"
    }
  }
}
```

Filters logs to include only security-relevant events, reducing noise and improving detection accuracy.

**Custom Processing Example**
```json copy
{
  "processing": {
    "parseJSON": true,
    "addMetadata": true,
    "customFields": {
      "environment": "production",
      "service": "my-application",
      "hostname": "${HOSTNAME}"
    },
    "transformations": {
      "timestamp": "eventTime",
      "level": "severity"
    }
  }
}
```

Transforms log records to match RunReveal's expected format and adds metadata for better context.

  </Tabs.Tab>
  <Tabs.Tab>

### Destinations

Destinations send data to external endpoints. For RunReveal, you'll configure the RunReveal destination to send logs via webhooks. See the [Reveald Destinations Documentation](https://github.com/runreveal/reveald) for comprehensive documentation.

**RunReveal Destination Example**
```json copy
{
  "destinations": {
    "runreveal": {
      "type": "runreveal",
      "webhookURL": "YOUR_WEBHOOK_URL",
      "batchSize": 100,
      "batchTimeout": "5s"
    }
  }
}
```

Sends logs to RunReveal via HTTP POST requests with proper JSON formatting and batch processing.

**Batch Configuration Example**
```json copy
{
  "destinations": {
    "runreveal": {
      "type": "runreveal",
      "webhookURL": "YOUR_WEBHOOK_URL",
      "batchSize": 50,
      "batchTimeout": "10s",
      "retryAttempts": 3,
      "retryDelay": "1s"
    }
  }
}
```

Configures batch processing for optimal throughput and reduced network overhead.

**Multiple Destinations Example**
```json copy
{
  "destinations": {
    "runreveal-primary": {
      "type": "runreveal",
      "webhookURL": "YOUR_PRIMARY_WEBHOOK_URL",
      "batchSize": 100,
      "batchTimeout": "5s"
    },
    "runreveal-backup": {
      "type": "runreveal",
      "webhookURL": "YOUR_BACKUP_WEBHOOK_URL",
      "batchSize": 100,
      "batchTimeout": "5s"
    }
  }
}
```

Routes different types of logs to separate endpoints for specialized processing and redundancy.

  </Tabs.Tab>
</Tabs>

---

## Next Steps

Now that you have Reveald configured and logs flowing to RunReveal, explore the detailed configuration guides:

- **[Detections](/detections)** - Create and manage security detection rules
- **[Sigma Streaming](/detections/sigma-streaming)** - Use Sigma rules for standardized threat detection
- **[Detection as Code](/detections/detection-as-code)** - Manage detections through code and version control
- **[Notifications](/notifications)** - Set up alerting and notification channels
- **[AI Chat](/ai-chat)** - Use AI-powered analysis for threat hunting and investigation
- **[Enrichments](/enrichments)** - Add context and metadata to your security events
- **[Filters](/filtering)** - Create custom filters to focus on specific security events

---

## Troubleshooting

### Common Issues

1. **Reveald won't start**: Check the configuration syntax and file permissions
2. **No logs being sent**: Verify the log file paths exist and are readable
3. **Webhook errors**: Check that your webhook URL is correct and accessible
4. **Permission issues**: Ensure Reveald has read access to your log files

### Debug Commands

```bash copy
# Check Reveald status
ps aux | grep reveald

# Test webhook connectivity
curl -v YOUR_WEBHOOK_URL

# Test configuration syntax
reveald -config reveald.config.json -validate

# Run Reveald in verbose mode
reveald -config reveald.config.json -verbose

# Check log files
ls -la ~/logs/app/
```

### Performance Tuning

<Callout type="info">
**Best Practices:**

1. **Batch Size**: Configure appropriate batch sizes for your log volume
2. **Timeout Settings**: Adjust batch timeouts to balance latency and throughput
3. **Retry Logic**: Configure retry settings for failed webhook requests
4. **Resource Limits**: Set appropriate memory and CPU limits
5. **Monitoring**: Set up alerts for Reveald process failures
</Callout>

---

## Resources

- [Reveald GitHub Repository](https://github.com/runreveal/reveald)
- [Reveald Documentation](https://github.com/runreveal/reveald)
- [Reveald Releases](https://github.com/runreveal/reveald/releases)
- [RunReveal Community](https://github.com/runreveal/runreveal)
- [RunReveal Support](https://runreveal.com/support)
