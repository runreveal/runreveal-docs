(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3807],{77126:function(e,i,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sources/source-types/aws/alb",function(){return s(30831)}])},30831:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return d},useTOC:function(){return o}});var n=s(85893),l=s(37812),t=s(84854),r=s(79299),a={src:"/_next/static/media/alb-bucket-enable.edad42dd.png",height:331,width:1112,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAIAAADq9gq6AAAAKUlEQVR42k3JsQ0AQAjDQPYfN5EAp3qJ6i13V5K7B/IHlGzJsyH3wcIDiRougWXH3QAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},c=s(95956);function o(e){return[{value:"Ingest Methods",id:"ingest-methods",depth:2},{value:"Setup",id:"setup",depth:2},{value:"Step 1: Create an S3 Bucket",id:"step-1-create-an-s3-bucket",depth:3},{value:"Step 2: Configure Bucket Policy",id:"step-2-configure-bucket-policy",depth:3},{value:"Step 3: Enable Access Logs for Your ALB",id:"step-3-enable-access-logs-for-your-alb",depth:3},{value:"Step 4: Verify Log Delivery",id:"step-4-verify-log-delivery",depth:3}]}var d=(0,l.c)(function(e){let{toc:i=o(e)}=e,s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",ul:"ul",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{children:"AWS ALB logs"}),"\n",(0,n.jsx)(s.p,{children:"AWS ALB distributes incoming application traffic across multiple targets (such as EC2 instances, containers, or IP addresses)\nto improve fault tolerance and scalability. ALB logs, known as access logs, provide details on request and response data,\nincluding client IP, request path, latency, and response status, which help in monitoring traffic patterns, troubleshooting,\nand ensuring security."}),"\n",(0,n.jsx)(s.h2,{id:i[0].id,children:i[0].value}),"\n",(0,n.jsx)(s.p,{children:"Setup the ingestion of this source using one of the following guides."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/sources/object-storage/s3",children:"AWS S3 Bucket"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/sources/object-storage/external-s3",children:"AWS S3 Bucket with Custom SQS"})}),"\n"]}),"\n",(0,n.jsxs)(c.U,{type:"info",children:[(0,n.jsx)(s.p,{children:"If using an AWS S3 bucket use the following SNS topic ARN to send your bucket notifications."}),(0,n.jsx)(s.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,n.jsx)(s.code,{children:(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{children:"arn:aws:sns:<REGION>:253602268883:runreveal_alb"})})})})]}),"\n",(0,n.jsx)(s.h2,{id:i[1].id,children:i[1].value}),"\n",(0,n.jsx)(s.h3,{id:i[2].id,children:i[2].value}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"Sign in to the AWS Management Console and open the Amazon S3 console."}),"\n",(0,n.jsx)(s.li,{children:"Click on “Create bucket”."}),"\n",(0,n.jsx)(s.li,{children:"Enter a unique name for your bucket and select the region."}),"\n",(0,n.jsx)(s.li,{children:"Configure the bucket settings as needed (e.g., versioning, encryption)."}),"\n",(0,n.jsx)(s.li,{children:"Click “Create bucket” to finish."}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:i[3].id,children:i[3].value}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"In the S3 console, select the bucket you just created."}),"\n",(0,n.jsx)(s.li,{children:"Go to the “Permissions” tab."}),"\n",(0,n.jsx)(s.li,{children:"Under “Bucket policy”, click “Edit”."}),"\n",(0,n.jsxs)(s.li,{children:["Paste the following policy, replacing ",(0,n.jsx)(s.code,{children:"{your-bucket-name}"})," with your actual bucket name:"]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{tabIndex:"0","data-language":"json","data-word-wrap":"",children:(0,n.jsxs)(s.code,{children:[(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"Version"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"2012-10-17"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"Statement"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": ["})]}),"\n",(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"Effect"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"Allow"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"Principal"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": {"})]}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"AWS"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"arn:aws:iam::elb-account-id:root"'})]}),"\n",(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"},"})}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"Action"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"s3:PutObject"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"Resource"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"arn:aws:s3:::{your-bucket-name}/AWSLogs/*"'})]}),"\n",(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]"})}),"\n",(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,n.jsxs)(s.ol,{start:"5",children:["\n",(0,n.jsxs)(s.li,{children:["Replace ",(0,n.jsx)(s.code,{children:"elb-account-id"})," with the appropriate ID for your region. You can find the list of IDs ",(0,n.jsx)(s.a,{href:"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-access-logs.html",children:"here"}),"."]}),"\n",(0,n.jsx)(s.li,{children:"Click “Save changes”."}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:i[4].id,children:i[4].value}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"Open the EC2 console and navigate to “Load Balancers”."}),"\n",(0,n.jsx)(s.li,{children:"Select your Application Load Balancer."}),"\n",(0,n.jsx)(s.li,{children:"In the “Description” tab, scroll down to the “Attributes” section and click “Edit”."}),"\n",(0,n.jsx)(s.li,{children:"Check the box next to “Access logs”."}),"\n",(0,n.jsx)(s.li,{children:"Select the S3 bucket you created earlier from the dropdown."}),"\n",(0,n.jsx)(s.li,{children:"Optionally, specify a prefix for the log files."}),"\n",(0,n.jsx)(s.li,{children:"Click “Save”."}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"ALB Attributes",placeholder:"blur",src:a})}),"\n",(0,n.jsx)(s.h3,{id:i[5].id,children:i[5].value}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"Wait for a few minutes to allow some traffic to flow through your ALB."}),"\n",(0,n.jsx)(s.li,{children:"Go back to the S3 console and open your bucket."}),"\n",(0,n.jsx)(s.li,{children:"Navigate to the “AWSLogs” folder (or the custom prefix you specified)."}),"\n",(0,n.jsx)(s.li,{children:"You should see log files appearing in this location."}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["For more information, refer to the ",(0,n.jsx)(s.a,{href:"https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-access-logs.html",children:"official AWS documentation on ALB access logs"}),"."]})]})},"/sources/source-types/aws/alb",{filePath:"pages/sources/source-types/aws/alb.mdx",timestamp:1750451516e3,pageMap:t.v,frontMatter:{title:"AWS ALB Logs",description:"Collect AWS Application Load Balancer logs for traffic monitoring and security analysis. Track request patterns, response times, and access attempts for comprehensive load balancer visibility."},title:"AWS ALB Logs"},"undefined"==typeof RemoteContent?o:RemoteContent.useTOC)},95956:function(e,i,s){"use strict";s.d(i,{U:function(){return c}});var n=s(85893),l=s(90512),t=s(45192);let r={default:"\uD83D\uDCA1",error:"\uD83D\uDEAB",info:(0,n.jsx)(t.AV,{className:"_mt-1"}),warning:"⚠️"},a={default:(0,l.Z)("_border-orange-100 _bg-orange-50 _text-orange-800 dark:_border-orange-400/30 dark:_bg-orange-400/20 dark:_text-orange-300"),error:(0,l.Z)("_border-red-200 _bg-red-100 _text-red-900 dark:_border-red-200/30 dark:_bg-red-900/30 dark:_text-red-200"),info:(0,l.Z)("_border-blue-200 _bg-blue-100 _text-blue-900 dark:_border-blue-200/30 dark:_bg-blue-900/30 dark:_text-blue-200"),warning:(0,l.Z)("_border-yellow-100 _bg-yellow-50 _text-yellow-900 dark:_border-yellow-200/30 dark:_bg-yellow-700/30 dark:_text-yellow-200")};function c({children:e,type:i="default",emoji:s=r[i]}){return(0,n.jsxs)("div",{className:(0,l.Z)("nextra-callout _overflow-x-auto _mt-6 _flex _rounded-lg _border _py-2 ltr:_pr-4 rtl:_pl-4","contrast-more:_border-current contrast-more:dark:_border-current",a[i]),children:[(0,n.jsx)("div",{className:"_select-none _text-xl ltr:_pl-3 ltr:_pr-2 rtl:_pr-3 rtl:_pl-2",style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},children:s}),(0,n.jsx)("div",{className:"_w-full _min-w-0 _leading-7",children:e})]})}}},function(e){e.O(0,[7812,4854,2888,9774,179],function(){return e(e.s=77126)}),_N_E=e.O()}]);