(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1033],{78240:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sources/source-types/teleport",function(){return r(77683)}])},77683:function(e,t,r){"use strict";r.r(t),r.d(t,{useTOC:function(){return a}});var n=r(85893),o=r(37812),l=r(84854),s=r(79299),i=r(95956);function a(e){return[{value:"Ingest Methods",id:"ingest-methods",depth:2},{value:"Setup",id:"setup",depth:2},{value:"AWS External Audit Storage",id:"aws-external-audit-storage",depth:3}]}t.default=(0,o.c)(function(e){let{toc:t=a(e)}=e,r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{children:"Teleport Cloud Audit Logs"}),"\n",(0,n.jsx)(r.p,{children:"These logs are emitted by Teleport Cloud to an S3 bucket and it’s worth noting that the setup process\non the teleport cloud side is slightly unique compared to other providers. They will ask you to run\nseveral commands in AWS Cloud Shell to instantiate a collection of teleport buckets."}),"\n",(0,n.jsx)(r.h2,{id:t[0].id,children:t[0].value}),"\n",(0,n.jsxs)(r.p,{children:["Setup the ingestion of this source using one of the following guides.\nIf using the ",(0,n.jsx)(r.code,{children:"AWS External Audit Storage"})," method for sending Teleport logs to AWS perform the necessary setup first before finishing the RunReveal ingestion steps."]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"/sources/object-storage/s3",children:"AWS S3 Bucket"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"/sources/object-storage/external-s3",children:"AWS S3 Bucket with Custom SQS"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"/sources/object-storage/azure",children:"Azure Blob Storage"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"/sources/object-storage/gcs",children:"Google Cloud Storage"})}),"\n"]}),"\n",(0,n.jsxs)(i.U,{type:"info",children:[(0,n.jsx)(r.p,{children:"If using an AWS S3 bucket, use the following SNS topic ARN to send your bucket notifications."}),(0,n.jsx)(r.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,n.jsx)(r.code,{children:(0,n.jsx)(r.span,{children:(0,n.jsx)(r.span,{children:"arn:aws:sns:<REGION>:253602268883:runreveal_teleport"})})})})]}),"\n",(0,n.jsx)(r.h2,{id:t[1].id,children:t[1].value}),"\n",(0,n.jsxs)(r.p,{children:["Teleport offers first party support for sending events to AWS. Otherwise you will need to setup your Teleport account to forward events to\nyour cloud storage account most likely using their ",(0,n.jsx)(r.a,{href:"https://goteleport.com/docs/admin-guides/management/export-audit-events/fluentd/",children:"fluentd guide"}),"."]}),"\n",(0,n.jsx)(r.h3,{id:t[2].id,children:t[2].value}),"\n",(0,n.jsx)(r.p,{children:"At the end of the process you should be have a new bucket called something like:"}),"\n",(0,n.jsx)(r.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,n.jsx)(r.code,{children:(0,n.jsx)(r.span,{children:(0,n.jsx)(r.span,{children:"xxxxxxxx-longterm-zzzzzzzzz-zzzz-zzzz-zzzz-zzzzzzzzzzzz"})})})}),"\n",(0,n.jsx)(r.p,{children:"This is the bucket you’ll provide RunReveal with access to."}),"\n",(0,n.jsxs)(r.p,{children:["Their docs are available ",(0,n.jsx)(r.a,{href:"https://goteleport.com/docs/admin-guides/management/external-audit-storage/",children:"online"}),", but under Enroll New Integration, you’ll need to set up a next\nAWS External Audit Storage integration."]}),"\n",(0,n.jsx)("img",{src:"/teleport-1.png"}),"\n",(0,n.jsxs)(r.p,{children:["As part of the setup process, you’ll provide teleport with a name for your integration, the iam role\nname you’d like for ",(0,n.jsx)(r.em,{children:"teleport"})," to create, the bucket name you’d like ",(0,n.jsx)(r.em,{children:"teleport"})," to create, and the bucket\nprefix."]}),"\n",(0,n.jsx)("img",{src:"/teleport-2.png"}),"\n",(0,n.jsx)(r.p,{children:"Once you provide these bits of information, you’ll be given a Amazon CloudShell command to run. This will create\nthe role and the bucket within your AWS account. Once you provide teleport with your role’s name, including the\nAWS account ID."}),"\n",(0,n.jsx)(r.p,{children:"Once you provide teleport with this information they will ask you to continue with the integration by running\nan Amazon CloudShell command one final time to provision your buckets, and finally test the connection."}),"\n",(0,n.jsx)("img",{src:"/teleport-3.png"})]})},"/sources/source-types/teleport",{filePath:"pages/sources/source-types/teleport.mdx",timestamp:1727468932e3,pageMap:l.v,frontMatter:{},title:"Teleport Cloud Audit Logs"},"undefined"==typeof RemoteContent?a:RemoteContent.useTOC)},95956:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(85893),o=r(90512),l=r(45192);let s={default:"\uD83D\uDCA1",error:"\uD83D\uDEAB",info:(0,n.jsx)(l.AV,{className:"_mt-1"}),warning:"⚠️"},i={default:(0,o.Z)("_border-orange-100 _bg-orange-50 _text-orange-800 dark:_border-orange-400/30 dark:_bg-orange-400/20 dark:_text-orange-300"),error:(0,o.Z)("_border-red-200 _bg-red-100 _text-red-900 dark:_border-red-200/30 dark:_bg-red-900/30 dark:_text-red-200"),info:(0,o.Z)("_border-blue-200 _bg-blue-100 _text-blue-900 dark:_border-blue-200/30 dark:_bg-blue-900/30 dark:_text-blue-200"),warning:(0,o.Z)("_border-yellow-100 _bg-yellow-50 _text-yellow-900 dark:_border-yellow-200/30 dark:_bg-yellow-700/30 dark:_text-yellow-200")};function a({children:e,type:t="default",emoji:r=s[t]}){return(0,n.jsxs)("div",{className:(0,o.Z)("nextra-callout _overflow-x-auto _mt-6 _flex _rounded-lg _border _py-2 ltr:_pr-4 rtl:_pl-4","contrast-more:_border-current contrast-more:dark:_border-current",i[t]),children:[(0,n.jsx)("div",{className:"_select-none _text-xl ltr:_pl-3 ltr:_pr-2 rtl:_pr-3 rtl:_pl-2",style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},children:r}),(0,n.jsx)("div",{className:"_w-full _min-w-0 _leading-7",children:e})]})}}},function(e){e.O(0,[7812,4854,2888,9774,179],function(){return e(e.s=78240)}),_N_E=e.O()}]);