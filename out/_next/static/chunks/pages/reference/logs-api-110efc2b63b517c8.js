(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[257],{92984:function(n,s,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reference/logs-api",function(){return e(6329)}])},6329:function(n,s,e){"use strict";e.r(s),e.d(s,{useTOC:function(){return c}});var a=e(85893),r=e(37812),i=e(84854),l=e(79299);function c(n){return[{value:"Authentication",id:"authentication",depth:2},{value:"Logs Query Endpoint",id:"logs-query-endpoint",depth:2},{value:"Results Endpoint",id:"results-endpoint",depth:2},{value:"Cancellation Endpoint",id:"cancellation-endpoint",depth:2}]}s.default=(0,r.c)(function(n){let{toc:s=c(n)}=n,e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",...(0,l.a)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h1,{children:"Logs API"}),"\n",(0,a.jsx)(e.h2,{id:s[0].id,children:s[0].value}),"\n",(0,a.jsxs)(e.p,{children:["Authentication is done via basic auth with your API token.  Get your token by clicking “New API Token” on the page: ",(0,a.jsx)(e.a,{href:"https://app.runreveal.com/dash/workspace/api-tokens",children:"https://app.runreveal.com/dash/workspace/api-tokens"}),"."]}),"\n",(0,a.jsx)(e.p,{children:"e.g. with cURL, set the authorization header like so:"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.code,{children:"$ curl -H 'Authorization: Basic <token>' https://api.runreveal.com/..."})}),"\n",(0,a.jsx)(e.h2,{id:s[1].id,children:s[1].value}),"\n",(0,a.jsx)(e.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,a.jsx)(e.code,{children:(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"https://api.runreveal.com/logs/query/v2"})})})}),"\n",(0,a.jsxs)(e.p,{children:["The first endpoint is the query endpoint where you can submit queries of any format. Currently the supported formats are: pql, sql, or natural language. Set the ",(0,a.jsx)(e.code,{children:"useAI"})," and ",(0,a.jsx)(e.code,{children:"usePQL"})," flags to query using natural language and PQL, respectively. The arguments are mutually exclusive, and setting both is invalid but if useAI is set, it will take precedence. The query will be converted into the corresponding SQL before being submitted to the database backend."]}),"\n",(0,a.jsxs)(e.p,{children:["This endpoint will kick off the query and return up to ",(0,a.jsx)(e.code,{children:"limit"})," results. The query will continue running in the background."]}),"\n",(0,a.jsx)(e.p,{children:"Here’s a full example using cURL:"}),"\n",(0,a.jsx)(e.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,a.jsxs)(e.code,{children:[(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"curl 'https://api.runreveal.com/logs/query/v2?workspaceid=<wkspID>' \\"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"  -H 'authorization: Basic <token>' \\"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"  -H 'content-type: application/json' \\"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'  --data-raw \'{"query":"SELECT receivedAt, workspaceID, sourceType, id, eventName FROM runreveal.logs LIMIT 2;","useAI":false,"usePQL":false,"source":"ui-query","parameters":{"a":"b"},"limit":1000}\''})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"{"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'  "success": true,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'  "result": {'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "queryID": "2e2GQkLQiZNUyDIZXnvGHssbRIH",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "canceled": false,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "query": "SELECT receivedAt, workspaceID, sourceType, id, eventName FROM runreveal.logs LIMIT 2;",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "aiText": "",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "pqlText": "",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "parameters": {'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "a": "b"'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"    },"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "error": "",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "resultCount": 2,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "totalResults": 2,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "startedAt": "2024-03-22T08:14:05.958701794Z",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "runTime": "38.836527ms",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "runTimeMs": 38,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "limit": 0,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "offset": 0,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "columns": ['})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "receivedAt",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "workspaceID",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "sourceType",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "id",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "eventName"'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"    ],"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "columnTypes": ['})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "DateTime",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "String",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "LowCardinality(String)",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "String",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "String"'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"    ],"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "rows": ['})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"      ["})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "2024-02-08T23:18:45Z",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "<wkspID>",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "gcplogs",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "2c6a8tdYFRWa7oqVudOrGTIP3B7",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "google.identity.oauth2.GetTokenInfo"'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"      ],"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"      ["})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "2024-02-08T23:18:55Z",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "<wkspID>",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "gcplogs",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "2c6aA74bB5VCJVesecPRD9cv2ul",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "google.identity.oauth2.GetTokenInfo"'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"      ]"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"    ]"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"  }"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"}"})})]})}),"\n",(0,a.jsx)(e.h2,{id:s[2].id,children:s[2].value}),"\n",(0,a.jsx)(e.p,{children:"If the query has completed, you can query it using the results endpoint. You can pass in a limit and offset parameter to page through the results. The queryID is used to load the results, and is returned upon querying using the above endpoint."}),"\n",(0,a.jsxs)(e.p,{children:["If the query has not yet completed, totalResults will be ",(0,a.jsx)(e.code,{children:"-1"}),"."]}),"\n",(0,a.jsx)(e.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,a.jsxs)(e.code,{children:[(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"curl 'https://api.runreveal.com/logs/query/v2/results?workspaceid=<wkspID>' \\"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"  -H 'authorization: Basic <token>' \\"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"  -H 'content-type: application/json' \\"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'  --data-raw \'{"queryID":"2e2GQkLQiZNUyDIZXnvGHssbRIH","limit":50,"offset":0}\''})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"{"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'  "success": true,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'  "result": {'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "queryID": "2e2GQkLQiZNUyDIZXnvGHssbRIH",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "canceled": false,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "query": "SELECT receivedAt, workspaceID, sourceType, id, eventName FROM runreveal.logs LIMIT 2;",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "aiText": "",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "pqlText": "",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "parameters": {'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "a": "b"'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"    },"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "error": "",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "resultCount": 2,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "totalResults": 2,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "startedAt": "2024-03-22T08:14:05.958702Z",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "runTime": "38.836527ms",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "runTimeMs": 38,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "limit": 50,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "offset": 0,'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "columns": ['})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "receivedAt",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "workspaceID",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "sourceType",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "id",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "eventName"'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"    ],"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "columnTypes": ['})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "DateTime",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "String",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "LowCardinality(String)",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "String",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'      "String"'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"    ],"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'    "rows": ['})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"      ["})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "2024-02-08T23:18:45Z",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "2KUOdhvRReF5RZfQX8ILneT4fSd",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "gcplogs",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "2c6a8tdYFRWa7oqVudOrGTIP3B7",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "google.identity.oauth2.GetTokenInfo"'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"      ],"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"      ["})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "2024-02-08T23:18:55Z",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "2KUOdhvRReF5RZfQX8ILneT4fSd",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "gcplogs",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "2c6aA74bB5VCJVesecPRD9cv2ul",'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'        "google.identity.oauth2.GetTokenInfo"'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"      ]"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"    ]"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"  }"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"}"})})]})}),"\n",(0,a.jsx)(e.h2,{id:s[3].id,children:s[3].value}),"\n",(0,a.jsx)(e.p,{children:"This cancels an inflight query given by the queryID."}),"\n",(0,a.jsx)(e.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,a.jsxs)(e.code,{children:[(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"curl 'https://api.runreveal.com/logs/query/v2/cancel?workspaceid=<wkspID>&queryID=<queryID>' \\"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"  -H 'authorization: Basic <token>'"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"{"})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:'  "success": true'})}),"\n",(0,a.jsx)(e.span,{children:(0,a.jsx)(e.span,{children:"}"})})]})})]})},"/reference/logs-api",{filePath:"pages/reference/logs-api.mdx",timestamp:1750451516e3,pageMap:i.v,frontMatter:{title:"Logs API - Programmatic Access to RunReveal Data",description:"Comprehensive API documentation for querying RunReveal logs programmatically. Authentication, endpoints, response formats, and code examples for data access."},title:"Logs API - Programmatic Access to RunReveal Data"},"undefined"==typeof RemoteContent?c:RemoteContent.useTOC)}},function(n){n.O(0,[7812,4854,2888,9774,179],function(){return n(n.s=92984)}),_N_E=n.O()}]);